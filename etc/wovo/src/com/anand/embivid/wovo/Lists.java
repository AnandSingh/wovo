package com.anand.embivid.wovo;

import android.content.res.Resources;
import android.text.TextUtils;
import android.util.Log;
import android.widget.Toast;

import java.io.BufferedReader;
import java.io.DataInputStream;
import java.io.DataOutputStream;
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.RandomAccessFile;
import java.util.ArrayList;
import java.util.Collections;
import java.util.List;
import java.util.Map;
import java.util.concurrent.ConcurrentHashMap;

public class Lists {

    //BufferedReader reader = null;
  
    
    public static class Word {
        public final String word;
        public final String definition;

        public Word(String word, String definition) {
            this.word = word;
            this.definition = definition;
        }
    }

    private static final Lists sInstance = new Lists();

    public static Lists getInstance() {
        return sInstance;
    }

   // private final Map<String, List<Word>> mDict = new ConcurrentHashMap<String, List<Word>>();

    private Lists() {
    }
    
   
    private boolean mLoaded = false;
    private RandomAccessFile raf = null;
    private long total_len = 0; 
    private int file_start_end = 0;
    private int END_FILE = 2;
	private int START_FILE = 1;
	private int TOTAL_LINES = 4759;
	
	private int line_idx[] = {0,80,97,124,144,209,239,294,351,378,398,530,557,575,633,664,688,733,830,
			                  864,910,939,957,993,1027,1155,1184,1264,1318,1431,1488,1541,1589,1615,1635,
			                  1678,1742,1756,1780,1821,1882,2091,2142,2192,2245,2401,2430,2448,2493,2526,
			                  2689,2869,2968,2985,3047,3077,3113,3192,3251,3397,3460,3583,3611,3670,3719,
			                  3761,3819,3922,4048,4076,4202,4228,4416,4514,4550,4623,4764,4795,4879,4909,
			                  4952,5016,5089,5148,5208,5224,5265,5340,5440,5456,5510,5537,5592,5662,5676,
			                  5745,5817,5852,5905,6036,6099,6131,6213,6252,6365,6539,6651,6680,6785,6804,
			                  6843,6954,7041,7150,7204,7249,7275,7371,7411,7480,7529,7557,7578,7660,7742,
			                  7776,7839,7859,7887,7907,7988,8014,8068,8121,8359,8417,8448,8503,8563,8642,
			                  8676,8703,8844,8908,9021,9072,9095,9154,9293,9381,9475,9546,9573,9631,9656,
			                  9676,9920,9970,10053,10098,10178,10226,10286,10310,10373,10434,10510,10559,
			                  10613,10672,10820,10963,11010,11056,11139,11247,11292,11342,11373,11436,11537,
			                  11591,11673,11714,11779,11836,11893,11960,12058,12097,12194,12277,12304,12329,
			                  12398,12448,12537,12701,12721,12763,12789,12806,12869,12949,13006,13037,13059,
			                  13125,13330,13348,13441,13485,13543,13614,13664,13728,13782,13919,14009,14052,
			                  14098,14161,14241,14288,14436,14490,14578,14619,14668,14717,14753,14798,14822,
			                  14854,14931,15019,15107,15159,15229,15301,15377,15455,15536,15569,15613,15677,
			                  15706,15733,15802,15827,15842,15903,15934,15976,16116,16181,16215,16231,16253,
			                  16397,16479,16576,16602,16667,16714,16874,16953,17008,17084,17116,17170,17310,
			                  17370,17433,17473,17509,17555,17617,17657,17700,17760,17831,17873,17963,17989,
			                  18063,18096,18226,18316,18372,18536,18586,18617,18811,18857,18931,18961,18996,
			                  19036,19127,19173,19307,19341,19398,19430,19467,19561,19600,19700,19753,19795,
			                  19917,19933,20013,20050,20202,20222,20444,20526,20647,20761,21253,21276,21344,
			                  21374,21489,21533,21613,21651,21723,21790,21911,21963,22010,22048,22146,22370,
			                  22399,22429,22479,22685,22719,22756,22827,22853,22964,22993,23045,23110,23185,
			                  23366,23394,23522,23712,23793,23876,23916,23968,24054,24100,24131,24323,24364,
			                  24459,24482,24635,24675,24739,24780,24812,24843,24941,24967,25003,25065,25110,
			                  25126,25233,25255,25301,25361,25537,25589,25616,25723,25860,25975,26056,26137,
			                  26172,26212,26281,26403,26465,26528,26612,26623,26738,26800,26823,26961,27035,
			                  27079,27163,27204,27246,27349,27439,27476,27542,27586,27627,27676,27763,27797,
			                  27846,27899,27927,27956,28037,28096,28190,28244,28348,28410,28490,28591,28737,28754,
			                  28813,28963,28995,29014,29039,29098,29146,29168,29259,29290,29332,29416,29648,29707,
			                  29776,29794,29884,29965,29988,30093,30147,30197,30254,30279,30332,30401,30480,30515,
			                  30563,30578,30619,30669,30775,30808,30850,30897,30913,30939,30985,31015,31081,31185,
			                  31282,31303,31345,31442,31513,31560,31614,31699,31742,31815,31838,31900,31949,32021,
			                  32088,32216,32305,32376,32422,32482,32514,32577,32615,32655,32737,32768,32824,32939,
			                  32995,33021,33097,33143,33177,33205,33334,33375,33400,33460,33504,33543,33591,33618,
			                  33649,33685,33742,33803,33892,33946,33988,34014,34036,34048,34075,34118,34183,34237,
			                  34288,34336,34374,34490,34511,34577,34600,34644,34706,34729,34781,34842,34918,34964,
			                  35005,35024,35054,35085,35153,35181,35246,35446,35553,35631,35698,35716,35742,35915,
			                  35978,35999,36029,36068,36112,36157,36251,36317,36340,36445,36532,36629,36692,36731,
			                  36820,36872,36906,36944,37021,37045,37132,37165,37197,37287,37346,37373,37400,37441,
			                  37473,37574,37627,37711,37743,37785,37823,37869,37911,38003,38059,38104,38137,38192,
			                  38306,38346,38463,38500,38578,38611,38642,38763,38783,38901,39044,39090,39150,39184,
			                  39241,39278,39315,39385,39465,39509,39616,39675,39761,39799,39878,39912,39980,40067,
			                  40128,40182,40218,40288,40339,40363,40388,40475,40532,40619,40748,40824,40934,40994,
			                  41038,41118,41151,41245,41375,41462,41537,41689,41758,41905,42041,42107,42170,42315,
			                  42434,42512,42562,42630,42724,42750,42770,42798,42852,42921,43039,43069,43164,43214,
			                  43295,43345,43408,43447,43522,43619,43662,43768,43825,43846,43866,43903,43952,44077,
			                  44105,44194,44227,44288,44413,44510,44537,44601,44661,44748,44818,44848,44946,45085,
			                  45148,45199,45331,45368,45498,45592,45623,45673,45788,45844,45966,46018,46095,46178,
			                  46264,46298,46321,46360,46411,46458,46520,46588,46691,46714,46822,46988,47037,47098,
			                  47188,47221,47239,47305,47476,47538,47617,47672,47843,47863,47941,48000,48036,48256,
			                  48329,48369,48390,48445,48524,48540,48642,48716,48778,48807,48873,48888,48928,48959,
			                  49036,49176,49224,49282,49306,49346,49414,49476,49603,49671,49837,49908,50015,50050,
			                  50069,50098,50225,50353,50416,50439,50462,50498,50648,50668,50771,50956,51016,51081,
			                  51130,51292,51314,51335,51459,51583,51618,51727,51771,51855,51870,51941,51979,52060,
			                  52106,52166,52205,52243,52312,52343,52393,52520,52598,52740,52816,52938,52986,53036,
			                  53073,53142,53276,53371,53435,53588,53677,53719,53757,53816,53854,53925,54067,54125,
			                  54158,54224,54275,54320,54433,54555,54629,54660,54730,54798,54830,54857,55148,55221,
			                  55395,55425,55616,55672,55699,55751,55783,55827,55923,56023,56105,56140,56276,56390,
			                  56604,56721,56748,56781,56821,56987,57131,57156,57184,57233,57286,57394,57454,57485,
			                  57584,57640,57709,57750,57821,57894,58241,58341,58422,58532,58558,58656,58856,58882,
			                  58909,59005,59035,59086,59276,59352,59438,59540,59571,59604,59836,60016,60128,60199,
			                  60258,60292,60336,60382,60436,60509,60569,60666,60723,60840,60959,61139,61268,61361,
			                  61463,61494,61534,61605,61687,61812,61847,61914,62034,62180,62328,62427,62452,62563,
			                  62629,62650,62712,62773,62835,62899,62979,63046,63190,63290,63329,63460,63722,63819,
			                  63878,63961,64006,64105,64217,64303,64404,64511,64529,64574,64611,64683,64781,64852,
			                  64900,64947,64972,65115,65139,65210,65287,65373,65436,65590,65692,65711,65825,65958,
			                  66025,66101,66176,66290,66367,66447,66482,66580,66622,66655,66702,66744,66824,66893,
			                  66922,66983,67000,67041,67136,67232,67271,67392,67510,67544,67563,67664,67812,67855,
			                  67973,68000,68045,68194,68226,68297,68352,68442,68459,68476,68489,68566,68611,68704,
			                  68783,68942,68976,69048,69072,69113,69164,69191,69297,69394,69483,69519,69568,69638,
			                  69684,69725,69825,69963,70002,70033,70100,70190,70236,70287,70357,70423,70500,70562,
			                  70587,70723,70824,70905,70966,71063,71092,71200,71217,71368,71441,71499,71551,71577,
			                  71631,71719,71774,71855,71872,71941,72039,72071,72169,72231,72297,72383,72489,72568,72632,72691,72780,72871,72912,72931,72953,73055,73147,73184,73210,73310,73402,73482,73580,73635,73659,73731,73820,73960,74031,74054,74083,74181,74250,74359,74380,74447,74577,74725,74787,74908,75063,75117,75202,75268,75333,75375,75396,75441,75573,75729,75770,75808,75890,75915,76058,76084,76105,76162,76223,76310,76371,76387,76411,76515,76608,76647,76740,76795,76823,76840,76854,76951,76988,77068,77094,77134,77269,77354,77381,77479,77586,77727,77773,77789,77844,77869,78068,78202,78257,78322,78377,78431,78519,78587,78624,78641,78701,78865,78942,79094,79136,79200,79248,79333,79417,79474,79507,79590,79633,79677,79757,79775,79860,79913,79951,80081,80176,80224,80332,80390,80504,80601,80653,80788,80854,80958,81040,81088,81110,81171,81216,81383,81511,81564,81587,81685,81807,81871,81941,82005,82046,82060,82233,82264,82324,82433,82597,82704,82806,82877,83006,83062,83189,83261,83298,83428,83548,83602,83707,83761,83834,83867,83906,83975,84045,84211,84257,84399,84514,84590,84664,84754,84796,84888,84969,85062,85125,85196,85316,85374,85406,85445,85491,85565,85612,85668,85747,85787,85868,85984,86098,86215,86247,86377,86460,86532,86588,86671,86709,86790,86862,86931,86971,87035,87065,87088,87142,87172,87252,87289,87362,87440,87580,87688,87723,87859,87908,87975,88158,88178,88370,88435,88494,88562,88693,88738,88889,88937,88967,89015,89061,89121,89247,89303,89357,89411,89429,89466,89548,89601,89647,89825,90022,90078,90098,90179,90206,90379,90514,90559,90619,90701,90736,90868,90965,91010,91045,91145,91274,91369,91463,91572,91642,91658,91703,91743,91923,92096,92211,92323,92399,92448,92509,92533,92652,92706,92727,92808,93009,93126,93156,93200,93290,93323,93403,93522,93544,93615,93674,93737,93795,93893,93960,94019,94050,94113,94253,94362,94474,94531,94589,94675,94728,94776,94898,94989,95101,95148,95173,95226,95288,95337,95394,95436,95480,95523,95619,95741,95796,95882,95934,96020,96061,96182,96281,96315,96353,96415,96510,96535,96623,96686,96756,96846,96917,97033,97111,97146,97241,97298,97339,97377,97521,97586,97628,97831,97893,97980,98113,98169,98216,98287,98412,98523,98556,98593,98636,98675,98726,98844,98914,98948,98977,99038,99216,99286,99357,99460,99523,99557,99656,99695,99815,99969,100124,100167,100256,100341,100393,100460,100537,100581,100649,100777,100860,100929,100979,101118,101252,101395,101457,101640,101680,101717,101769,101800,101831,101874,101928,102004,102082,102185,102247,102299,102372,102536,102555,102655,102750,102841,102923,102964,103043,103111,103172,103227,103382,103451,103482,103549,103629,103692,103741,103814,103899,104094,104127,104181,104272,104415,104507,104547,104685,104748,104788,104882,105099,105130,105187,105226,105256,105338,105397,105553,105584,105620,105712,105812,105871,105939,105967,106117,106170,106355,106456,106519,106689,106708,106737,106889,107025,107087,107117,107229,107337,107373,107519,107592,107694,107765,107814,107847,107912,108055,108133,108223,108271,108325,108476,108557,108625,108768,108911,108933,109006,109053,109090,109163,109207,109331,109380,109424,109464,109581,109695,109775,109828,109933,109996,110034,110116,110189,110214,110322,110376,110465,110483,110544,110578,110671,110804,110861,110887,110981,111127,111189,111300,111337,111421,111496,111534,111693,111719,111783,111915,111936,111964,112015,112118,112136,112200,112240,112368,112431,112508,112620,112683,112790,112896,112972,113025,113121,113157,113258,113318,113395,113432,113464,113512,113591,113650,113703,113822,113894,113935,114004,114119,114241,114307,114398,114430,114571,114682,114830,114928,114979,115020,115054,115139,115187,115242,115315,115348,115455,115558,115652,115706,115758,115863,116004,116037,116088,116227,116298,116331,116399,116438,116498,116551,116670,116735,116780,116890,116948,117031,117131,117289,117306,117381,117449,117500,117561,117611,117681,117728,117763,117868,117957,118054,118185,118291,118355,118429,118497,118539,118629,118782,118984,119056,119154,119169,119318,119399,119461,119524,119828,119878,119894,119952,120019,120075,120156,120229,120278,120429,120453,120505,120583,120610,120702,120773,120865,120891,121002,121090,121217,121296,121386,121445,121554,121681,121784,121848,121929,121977,122108,122235,122271,122328,122346,122429,122523,122597,122612,122693,122909,122980,123074,123116,123151,123225,123293,123334,123500,123589,123829,123859,123888,123942,124042,124178,124240,124350,124382,124552,124668,124767,124801,124875,124935,125056,125084,125173,125252,125560,125616,125653,125704,125777,125894,125962,126077,126126,126273,126308,126344,126392,126523,126564,126776,126792,126877,126954,126978,127021,127098,127159,127206,127292,127384,127455,127591,127773,127864,127965,127979,128064,128141,128212,128265,128394,128483,128617,128653,128792,128923,129080,129191,129276,129391,129506,129538,129571,129617,129690,129919,130003,130127,130175,130228,130255,130311,130428,130598,130788,130855,130955,131037,131080,131170,131218,131387,131494,131550,131620,131695,131757,131846,131919,132028,132161,132212,132253,132342,132386,132498,132547,132689,132742,132773,132882,133022,133116,133209,133245,133330,133416,133463,133539,133655,133874,133909,133953,134073,134172,134200,134235,134320,134382,134425,134523,134569,134616,134839,134884,134946,135029,135099,135123,135242,135313,135397,135502,135653,135692,135752,135800,135943,135995,136075,136170,136226,136271,136327,136380,136515,136573,136621,136671,136742,136780,136894,136930,137019,137108,137172,137334,137384,137441,137539,137692,137751,137877,137916,137962,138014,138104,138188,138254,138320,138394,138428,138467,138512,138534,138548,138590,138691,138782,138847,138952,138993,139045,139091,139111,139221,139374,139548,139647,139713,139772,139818,139990,140087,140107,140196,140334,140364,140443,140506,140562,140753,140785,140889,140943,141022,141078,141099,141151,141189,141247,141342,141485,141533,141585,141652,141793,141826,141892,141965,141992,142079,142126,142223,142313,142422,142484,142541,142670,142713,142752,142839,142899,143024,143059,143139,143170,143215,143288,143338,143454,143557,143614,143693,143754,143831,143884,143996,144027,144075,144112,144199,144296,144365,144497,144621,144686,144801,144853,144954,145118,145159,145305,145379,145454,145508,145640,145740,145791,145862,145906,145943,146024,146058,146177,146194,146231,146291,146517,146606,146681,146725,146768,146844,146890,147008,147090,147163,147211,147272,147392,147422,147469,147532,147642,147785,147828,147903,147974,148039,148150,148202,148301,148470,148517,148552,148654,148668,148701,148762,148803,148895,148926,149009,149083,149145,149240,149331,149405,149426,149498,149551,149611,149682,149761,149820,149848,149892,149939,149988,150015,150065,150120,150152,150223,150293,150319,150374,150444,150470,150525,150566,150579,150628,150717,150755,150777,150814,150845,150918,150961,151047,151098,151128,151197,151251,151293,151307,151368,151450,151614,151753,151884,151935,151953,152050,152081,152133,152167,152225,152402,152461,152559,152656,152831,152889,152990,153089,153126,153170,153346,153400,153442,153463,153550,153643,153682,153732,153828,153953,154083,154120,154163,154220,154281,154432,154484,154525,154636,154694,154764,154841,154869,154985,155062,155157,155203,155252,155444,155544,155639,155682,155746,155791,155846,155962,156082,156118,156200,156248,156281,156319,156384,156512,156549,156675,156727,156829,156906,156928,157007,157070,157139,157199,157338,157440,157513,157589,157654,157713,157739,157759,157862,157931,158133,158189,158224,158251,158270,158454,158606,158647,158689,158735,158829,158911,158985,159011,159036,159067,159275,159304,159380,159451,159534,159632,159675,159734,159872,159907,159995,160169,160255,160339,160507,160631,160705,160752,160811,160938,161001,161184,161389,161467,161533,161680,161777,161826,161887,161971,161988,162021,162134,162214,162282,162322,162376,162453,162544,162561,162717,162789,162838,162898,162978,163012,163049,163098,163153,163204,163228,163257,163319,163424,163469,163526,163573,163689,163776,163898,163920,164070,164097,164153,164238,164345,164412,164461,164583,164609,164762,164828,164893,164916,164986,165080,165140,165179,165221,165372,165464,165550,165605,165726,165746,165831,165903,166027,166145,166214,166307,166346,166359,166407,166455,166531,166573,166749,166823,166896,166959,167074,167141,167171,167201,167309,167362,167460,167502,167556,167601,167654,167689,167811,167850,167904,167954,168011,168129,168204,168259,168292,168394,168492,168612,168748,168864,168999,169128,169177,169270,169375,169430,169452,169575,169722,169876,169947,170076,170152,170180,170216,170356,170449,170507,170551,170577,170617,170709,170809,170860,170901,170990,171077,171148,171212,171346,171387,171434,171527,171571,171615,171789,171852,171944,172043,172095,172123,172158,172220,172240,172383,172460,172702,172745,172835,172883,172991,173017,173077,173145,173178,173275,173329,173521,173577,173631,173777,173807,173901,173920,173978,174004,174082,174115,174161,174381,174461,174516,174580,174603,174618,174657,174732,174799,174881,175039,175098,175231,175373,175422,175478,175535,175626,175778,175840,175898,176008,176047,176072,176242,176266,176394,176438,176574,176606,176644,176731,176791,176936,177034,177060,177080,177139,177160,177216,177282,177354,177459,177521,177561,177636,177687,177794,177853,177915,177980,178046,178137,178184,178259,178439,178474,178507,178522,178542,178699,178780,178845,178931,179017,179066,179131,179195,179238,179299,179371,179458,179509,179679,179806,179841,180002,180075,180141,180220,180299,180356,180398,180460,180532,180598,180665,180774,180844,180939,180965,181019,181053,181106,181172,181223,181316,181374,181444,181531,181557,181594,181626,181720,181761,181783,181854,181888,181916,181981,182042,182129,182314,182352,182424,182514,182533,182574,182648,182742,182889,183000,183079,183185,183291,183323,183453,183504,183670,183687,183773,183900,183918,183995,184043,184151,184177,184310,184414,184605,184671,184697,184734,184770,184854,184896,184969,185135,185214,185270,185308,185369,185441,185518,185601,185692,185762,185820,185881,185947,186008,186044,186110,186204,186248,186290,186354,186454,186559,186706,186872,186899,187026,187090,187139,187177,187283,187329,187390,187445,187459,187513,187599,187680,187722,187760,187793,187828,187934,187978,188048,188128,188264,188294,188352,188444,188484,188708,188754,188815,188896,188979,189029,189075,189203,189240,189303,189361,189425,189516,189621,189717,189846,190042,190136,190170,190218,190285,190339,190411,190459,190475,190563,190659,190770,190807,190902,190956,191003,191059,191111,191183,191316,191419,191484,191544,191591,191685,191734,191792,191855,191892,191958,192012,192163,192197,192238,192302,192322,192373,192417,192510,192546,192588,192668,192807,192878,193045,193087,193166,193218,193265,193333,193409,193491,193559,193604,193663,193750,193817,193838,193853,193928,193994,194071,194145,194242,194256,194346,194366,194505,194684,194797,194875,194897,194917,195000,195049,195103,195221,195262,195282,195347,195385,195489,195517,195632,195674,195696,195723,195819,196001,196136,196276,196311,196352,196435,196486,196533,196640,196676,196723,196793,196861,197012,197100,197194,197276,197325,197342,197384,197475,197527,197546,197596,197632,197810,197893,197922,197942,197978,198037,198071,198150,198209,198249,198288,198321,198364,198396,198593,198678,198727,198827,198870,198953,198983,199019,199106,199164,199241,199289,199334,199382,199545,199594,199667,199725,199804,199896,200053,200144,200188,200258,200329,200456,200510,200562,200680,200712,200761,200833,200912,200963,200979,201083,201138,201170,201273,201292,201323,201364,201426,201485,201574,201673,201771,201863,202019,202045,202132,202189,202290,202339,202455,202483,202515,202724,202772,202837,202907,203015,203068,203209,203268,203333,203384,203545,203605,203699,203749,203781,203884,203965,204019,204156,204234,204368,204414,204450,204557,204678,204735,204751,204883,204928,204987,205051,205167,205199,205261,205375,205436,205455,205499,205605,205642,205766,205793,205890,205987,206033,206167,206241,206295,206340,206640,206656,206701,206737,206859,206930,206954,206967,207065,207139,207164,207286,207343,207397,207440,207479,207581,207608,207650,207699,207813,207834,207959,208154,208221,208274,208408,208527,208568,208639,208780,208851,208943,209009,209099,209122,209210,209357,209423,209515,209566,209656,209779,209895,209930,210024,210102,210207,210226,210301,210333,210571,210669,210760,210799,210846,210884,210970,211018,211062,211175,211202,211263,211313,211372,211430,211511,211556,211576,211635,211717,211819,211865,211914,211936,211955,211984,212040,212069,212110,212152,212197,212257,212328,212445,212485,212535,212656,212751,212806,212948,213021,213134,213166,213221,213316,213348,213400,213469,213511,213584,213614,213651,213696,213760,213789,213878,213908,213993,214054,214209,214308,214441,214528,214579,214629,214678,214711,214782,214964,215022,215055,215112,215219,215294,215436,215487,215595,215630,215769,215811,215858,215916,215950,216029,216100,216129,216194,216328,216430,216510,216531,216644,216710,216795,216878,216937,217050,217110,217245,217318,217412,217462,217511,217596,217759,217818,217927,218008,218027,218094,218223,218286,218360,218401,218445,218573,218639,218696,218919,218942,219014,219124,219199,219273,219319,219398,219447,219505,219548,219594,219612,219639,219772,219838,219960,220256,220432,220490,220669,220800,220904,220982,221035,221104,221193,221315,221456,221545,221635,221684,221759,221861,221926,222008,222039,222130,222189,222206,222238,222313,222401,222467,222524,222552,222597,222701,222785,222924,222983,223053,223087,223144,223188,223224,223276,223323,223421,223456,223576,223627,223685,223789,223899,223968,224044,224149,224184,224240,224377,224459,224584,224610,224820,224850,224907,224942,225056,225137,225188,225399,225455,225515,225534,225603,225709,225769,225832,225933,225965,225989,226034,226215,226274,226420,226451,226521,226562,226604,226642,226790,226839,226884,226908,226976,226996,227054,227123,227204,227307,227336,227577,227640,227682,227822,227853,227971,228166,228207,228266,228328,228509,228568,228668,228747,228916,228939,229040,229169,229276,229315,229391,229480,229558,229616,229711,229756,229842,229938,230017,230056,230084,230162,230277,230367,230460,230569,230637,230691,230737,230809,230883,230908,231006,231039,231090,231121,231246,231298,231334,231437,231566,231607,231639,231756,231815,231880,231970,232014,232060,232111,232251,232316,232427,232493,232528,232569,232658,232699,232788,232872,232970,233050,233073,233116,233269,233361,233437,233482,233568,233641,233743,233782,233837,233882,233985,234122,234174,234232,234499,234610,234695,234719,234753,234849,235025,235096,235220,235301,235411,235510,235556,235613,235664,235740,235790,235861,235935,236090,236147,236161,236207,236272,236368,236459,236622,236684,236767,236861,236987,237023,237052,237091,237199,237332,237385,237500,237554,237668,237736,237863,237954,238082,238118,238167,238300,238466,238492,238517,238562,238600,238631,238668,238705,238802,238918,238953,238987,239094,239229,239257,239332,239372,239471,239698,239754,239837,239923,240055,240154,240295,240325,240539,240626,240650,240773,240833,240904,240980,241087,241234,241276,241380,241466,241505,241590,241721,241778,241816,241953,242025,242096,242383,242486,242595,242687,242777,242919,243000,243104,243156,243179,243284,243381,243435,243499,243560,243652,243750,243780,243849,243893,243918,243961,244068,244297,244349,244498,244528,244672,244806,244879,244940,245049,245117,245185,245225,245355,245470,245647,245707,245965,246001,246065,246126,246341,246379,246494,246514,246591,246724,246835,246927,247053,247133,247187,247236,247308,247325,247430,247493,247569,247627,247662,247785,247866,247931,248082,248129,248168,248193,248279,248368,248418,248477,248525,248578,248633,248754,248800,248943,249002,249174,249291,249358,249427,249501,249565,249675,249755,249862,249935,249977,250072,250160,250219,250277,250313,250406,250507,250536,250709,250773,250844,250885,250964,250998,251050,251259,251307,251356,251430,251476,251625,251728,251794,251905,251987,252071,252181,252293,252387,252461,252497,252537,252626,252667,252692,252808,252918,253047,253141,253310,253375,253490,253560,253602,253664,253694,253760,253799,253915,253996,254018,254130,254266,254348,254414,254460,254501,254658,254691,254773,254904,254947,255009,255080,255154,255267,255473,255516,255597,255612,255667,255717,255752,255970,256009,256105,256178,256215,256348,256382,256579,256738,256776,256867,256946,257015,257069,257145,257196,257225,257357,257415,257476,257554,257653,257741,257884,257974,258139,258267,258385,258491,258587,258603,258751,258793,258844,258935,259021,259175,259236,259282,259412,259502,259649,259852,259900,259920,260063,260134,260176,260264,260372,260467,260544,260622,260757,260865,260968,261144,261165,261207,261277,261335,261505,261575,261693,261768,261905,261983,262026,262147,262183,262250,262452,262473,262665,262812,262928,263013,263150,263291,263404,263436,263551,263663,263732,263798,263882,263991,264042,264134,264269,264356,264399,264542,264611,264658,264847,264965,265037,265120,265192,265260,265365,265426,265563,265660,265727,265914,265965,266011,266067,266109,266225,266334,266376,266489,266690,266772,266806,266865,267068,267243,267315,267351,267405,267580,267619,267641,267733,267868,268012,268089,268108,268156,268229,268341,268387,268474,268527,268570,268608,268718,268774,268828,268863,268913,269018,269070,269111,269303,269358,269453,269496,269528,269582,269691,269845,269955,270028,270062,270087,270143,270201,270296,270351,270441,270512,270560,270600,270711,270774,270801,270847,270913,271045,271118,271164,271233,271306,271456,271543,271650,271718,271759,271895,271994,272025,272076,272170,272293,272376,272454,272517,272602,272631,272675,272753,272818,272851,273013,273054,273106,273229,273286,273310,273337,273435,273489,273612,273677,273741,273840,273906,273979,274092,274172,274236,274347,274403,274437,274603,274662,274830,274887,274950,275061,275095,275177,275271,275371,275429,275463,275551,275649,275723,275755,275823,275898,275930,276077,276215,276273,276329,276410,276482,276526,276678,276720,276821,276966,277152,277227,277275,277375,277440,277494,277578,277639,277677,277742,277800,277926,277981,278055,278155,278205,278282,278367,278409,278575,278657,278818,278934,278958,279027,279089,279186,279248,279355,279435,279455,279563,279864,279903,280089,280150,280298,280351,280420,280473,280570,280632,280678,280724,280811,280866,280884,280953,280990,281075,281113,281248,281336,281471,281509,281551,281617,281655,281728,281778,281828,281908,281946,282090,282141,282186,282204,282232,282359,282424,282460,282499,282605,282681,282775,282802,282820,282880,282942,282971,283156,283253,283348,283513,283640,283681,283703,283764,283832,283873,284078,284153,284210,284229,284293,284351,284480,284552,284688,284750,284824,284858,284948,285093,285136,285164,285259,285298,285335,285436,285465,285494,285516,285621,285697,285770,285869,285937,285962,286090,286132,286252,286266,286298,286321,286446,286511,286636,286747,286787,286809,286956,287056,287174,287223,287260,287293,287384,287516,287649,287698,287801,287835,287907,287986,288074,288142,288205,288283,288439,288467,288524,288628,288702,288803,288951,289037,289093,289177,289316,289438,289491,289565,289632,289763,289906,290115,290185,290317,290444,290462,290554,290679,290746,290835,290945,290976,291055,291085,291196,291245,291357,291441,291585,291615,291679,291752,291880,291967,292066,292107,292144,292227,292290,292337,292391,292432,292571,292685,292813,293089,293180,293373,293428,293483,293603,293690,293807,293917,293967,293994,294051,294142,294192,294217,294271,294329,294374,294398,294449,294505,294603,294658,294703,294739,294853,294935,295078,295129,295233,295318,295376,295500,295568,295602,295687,295725,295761,295925,295959,296113,296168,296205,296332,296396,296496,296550,296611,296670,296735,296794,296845,296925,296939,297049,297159,297276,297349,297450,297531,297640,297680,297748,297867,297949,298030,298135,298186,298211,298263,298365,298474,298507,298578,298656,298829,298881,298931,299030,299122,299163,299208,299330,299456,299485,299566,299737,299796,299902,300046,300261,300330,300430,300520,300582,300667,300899,301230,301328,301476,301545,301601,301686,301858,301920,301962,302041,302150,302216,302286,302403,302484,302629,302646,302854,302878,302900,303012,303078,303184,303252,303327,303429,303527,303617,303735,303808,303896,304022,304140,304201,304286,304374,304416,304484,304614,304654,304689,304803,304970,305063,305219,305272,305415,305513,305687,305837,305884,305984,306010,306099,306218,306276,306340,306365,306491,306534,306641,306695,306736,306797,306957,307068,307181,307231,307387,307508,307579,307661,307730,307799,307921,307951,308060,308112,308210,308261,308284,308369,308498,308659,308727,308754,308833,308879,308975,309012,309084,309138,309165,309190,309290,309402,309497,309521,309588,309749,309788,309931,309963,310010,310116,310174,310263,310365,310412,310538,310600,310638,310723,310788,310873,311006,311099,311156,311285,311357,311380,311461,311546,311651,311692,311748,311770,311842,311951,312010,312067,312156,312268,312366,312500,312544,312644,312734,312813,312899,312958,313002,313104,313243,313378,313410,313533,313627,313763,313952,314022,314097,314142,314230,314280,314337,314397,314443,314508,314570,314631,314753,314846,314911,314962,315017,315072,315143,315187,315309,315443,315488,315540,315567,315629,315730,315809,315864,316007,316077,316112,316234,316390,316551,316595,316641,316724,316809,316864,316946,317018,317089,317179,317325,317358,317418,317508,317543,317680,317752,317818,317944,317997,318063,318122,318205,318245,318344,318390,318486,318564,318681,318794,318832,318915,319214,319282,319342,319432,319482,319579,319656,319752,319880,319906,319956,320088,320260,320341,320437,320498,320566,320617,320699,320741,320809,320873,320953,321071,321152,321202,321303,321359,321418,321518,321705,321754,321829,321889,321944,322061,322104,322213,322273,322296,322419,322564,322604,322741,322839,322925,322977,323071,323153,323269,323315,323401,323532,323604,323691,323819,323930,324009,324125,324178,324274,324463,324599,324656,324750,324835,324916,325015,325083,325130,325188,325297,325374,325410,325490,325564,325645,325703,325809,325875,325914,326030,326104,326222,326275,326308,326346,326397,326435,326492,326543,326737,326872,326905,326951,326970,326989,327005,327067,327159,327250,327512,327670,327779,327896,327966,328038,328111,328236,328258,328276,328386,328454,328577,328624,328752,328840,328924,329016,329077,329187,329273,329367,329411,329463,329537,329694,329780,329800,329906,330016,330067,330135,330292,330403,330492,330617,330644,330694,330741,330897,330941,331036,331077,331189,331293,331404,331612,331800,331869,331891,331976,332050,332103,332135,332319,332555,332578,332646,332759,332909,332935,333021,333169,333200,333267,333304,333429,333470,333500,333533,333586,333627,333702,333848,333907,333954,334023,334057,334156,334207,334305,334386,334485,334537,334563,334587,334627,334733,334784,334827,334870,334923,335045,335090,335135,335202,335294,335354,335382,335448,335540,335605,335824,335866,335997,336066,336089,336114,336173,336253,336344,336388,336506,336555,336618,336693,336757,336871,336933,336992,337072,337180,337296,337326,337485,337577,337604,337671,337863,337893,338015,338216,338268,338362,338446,338500,338564,338596,338657,338764,338867,338974,339045,339219,339285,339316,339541,339608,339664,339741,339772,339807,339880,339920,339968,339995,340102,340266,340295,340326,340357,340470,340494,340592,340635,340665,340702,340782,340926,341011,341038,341073,341143,341213,341246,341341,341408,341556,341622,341710,341745,341789,341883,341901,341953,342020,342093,342183,342222,342354,342377,342432,342501,342627,342740,342802,342924,343012,343095,343141,343212,343249,343306,343365,343494,343542,343569,343677,343736,343796,343837,343874,343927,343960,344030,344139,344192,344225,344260,344318,344393,344436,344461,344511,344619,344696,344761,344823,344884,345068,345096,345204,345222,345286,345374,345465,345521,345549,345590,345686,345777,345936,346005,346136,346176,346239,346269,346315,346343,346407,346458,346547,346602,346688,346727,346761,346849,346930,347014,347077,347201,347276,347311,347425,347551,347575,347605,347647,347761,347800,347929,347984,348037,348102,348176,348250,348334,348387,348513,348571,348646,348702,348819,348846,348920,349008,349065,349101,349197,349315,349353,349407,349465,349590,349685,349769,349862,349912,349964,350035,350120,350188,350222,350351,350432,350448,350500,350568,350583,350708,350792,350835,350883,351000,351079,351183,351297,351350,351369,351525,351583,351629,351704,351774,351808,351855,351949,352028,352100,352129,352221,352267,352350,352435,352532,352676,352751,352875,353028,353057,353170,353214,353251,353332,353395,353509,353530,353618,353640,353854,353891,353985,354043,354065,354152,354225,354293,354351,354502,354550,354757,354884,354934,354957,355026,355142,355252,355320,355454,355482,355507,355594,355618,355690,355750,355893,356002,356162,356206,356270,356368,356568,356654,356695,356713,356759,356808,356887,356939,357106,357224,357272,357328,357405,357539,357583,357696,357797,357892,357972,358074,358136,358164,358277,358307,358334,358379,358470,358509,358603,358656,358766,358900,359012,359055,359092,359218,359328,359400,359532,359691,359728,359757,359790,359929,359970,360074,360104,360132,360176,360219,360339,360564,360670,360715,360797,360905,361003}; 
	private int line_count = 0;
	private int curr_len = 0;
	private String line = null;
	private String word = null;
	private String define = null;
    
 public int Init_List() {
    	
    	if(mLoaded)
    	{
    	
    	 try {
    		 if(raf == null)
    		 {
			 raf = new RandomAccessFile(new File("/data/data/com.anand.embivid.wovo/wovo.dat"), "r");
		     //raf2 = new RandomAccessFile(new File("wd2.sin"), "rw");
		     total_len = raf.length();
		     Log.d("wovo init", "File Loaded Size" + total_len);
		     file_start_end = START_FILE;
    		 }
		 }
		 catch (Exception e)
		 {
			 Log.d("wovo init", e.toString());
			// e.printStackTrace();
		 }
    	 return 0;
    	}
    	else
    	{
    		return 1;
    	}
        //return sInstance;
    }
 public String getLineCount()
 {
	 
	 return String.valueOf(line_count);//line_count;
 }
 
 // Set the file seek to the line number 
 // and return the current line number
 public int setFileSeek(int line_count)
 {
	 int seek_len = 0;
	  
	  if(line_count != 0)
	  {
		  line_count--;
		  if(line_count == 0)
		  {
			  seek_len = line_idx[TOTAL_LINES - 1];
			  line_count = TOTAL_LINES;
		  }
		  else
		  {
			  seek_len = line_idx[line_count-1];
		  }
	  }
	  try
	  {
		  raf.seek(seek_len + (line_count - 1));
	  }
	  catch (Exception e){Log.d("wovo next", e.toString());}
	  
	  return line_count;
 }
 
 public String setLineCount(int val)
 {	 
	 line_count = setFileSeek(val);
	 return Next_list();
 }
 public boolean isLoaded()
 {
	 return mLoaded;
 }
 public String Next_list()
 {
	 if(mLoaded)
	 {
	 try {
		  if(file_start_end == END_FILE)
		  {
			  raf.seek(0);
			  line_count = 0;
			  curr_len = 0;
			  file_start_end = START_FILE;
		  }
	  if((line = raf.readLine()) != null)
	  {
		  //curr_len += line.length();
		  line_count++;
		  Log.d("wovo", line_count + ": " + line + " - " + line.length());
		  //if((curr_len + line_count) == total_len)
		  if(line_count == TOTAL_LINES)
		  {
			  Log.d("wovo",">>>>>>>>>");
			 // raf.seek(0);
			 // line_count = 0;
			 // curr_len = 0;
			  file_start_end = END_FILE;
			  
		  }
	  }else
	  {
		  System.out.println("End of File");
		  
	  }
	  } catch (Exception e) { Log.d("wovo next", e.toString());}
	
	 return line;// + line_count +"," +line_idx.length);
	 }
	 else
	 {
		 Log.d("wovo", "Error in loading");
		 return null;
	 }
 }
 
 public String Back_list()
 {
	 if(mLoaded)
	 {
		 line_count = setFileSeek(line_count);
		
		  try 
		  {
			  if((line = raf.readLine()) != null)
			  {
				  Log.d("wovo", line_count + ": " + line + " - " + line.length() + " - " + curr_len);
			  }
			  else
			  {
				  System.out.println("End of File");
			  }
			  if(file_start_end == END_FILE)
			  {
				  file_start_end = START_FILE; 
			  }
			  if(line_count == TOTAL_LINES)
			  {
				  Log.d("wovo", "<<<<<<<");
				  file_start_end = END_FILE;
			  }
			  
		  }catch (Exception e) { Log.d("wovo back", e.toString());}
		  return line;
	 }else
	 {
		 Log.d("wovo", "Error in loading");
		 return null;
	 }
 }
 
 public void splitText(String line)
 {
	 word = null;
	 define = null;
	 if(line != null)
     {
   	  String[] strings = TextUtils.split(line, "-");
         if (strings.length < 2) 
         {   
      	   return;
         
         }else{
        	 word = strings[0].trim();
        	 define = strings[1].trim();
      	 }
         
     }else
     {
   	  Log.d("wovo", "Split Fail...");
     }
 }
 
 public String getWord()
 {
	 return word;
 }
 
 public String getDefine()
 {
	 return define;
 }

    /**
     * Loads the words and definitions if they haven't been loaded already.
     *
     * @param resources Used to load the file containing the words and definitions.
     */
    public synchronized void ensureLoaded(final Resources resources) {
        if (mLoaded) return;

        new Thread(new Runnable() {
            public void run() {
                try {
                    loadWords(resources);
                } catch (IOException e) {
                    throw new RuntimeException(e);
                }
            }
        }).start();
    }

    private synchronized void loadWords(Resources resources) throws IOException {
        if (mLoaded) return;

        Log.d("wovo", "loading words");
      
        //BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));
        
        
        
     // check if it's already there
        File wovo = new File("/data/data/com.anand.embivid.wovo/wovo.dat");
     // set executable permissions on our helper
        Process process = Runtime.getRuntime().exec("sh");
        DataOutputStream os = new DataOutputStream(process.getOutputStream());
        os.writeBytes("chmod 755 /data/data/com.anand.embivid.wovo/wovo.dat\n");
        //os.writeBytes("exit\n");
        //os.flush();
        if (wovo.exists()) {
          // already there, nothing to do.
          Log.d("wovo", "return.....");
          mLoaded = true;
          //Init_List();
          if(Init_List() == 0)
          {
          	Log.d("wovo", "Init Success...");
          }
          else{
          	Log.d("wovo", "Init Fail...");
          }
          return;
        }
        //InputStream  = getResources().openRawResource(R.raw.helper_app);
        InputStream setdbStream = resources.openRawResource(R.raw.list);
        try {
        	
          byte[] bytes = new byte[setdbStream.available()];
          DataInputStream dis = new DataInputStream(setdbStream);
          dis.readFully(bytes);
          Log.d("wovo", "readfully");
          FileOutputStream setdbOutStream = new FileOutputStream("/data/data/com.anand.embivid.wovo/wovo.dat");
          setdbOutStream.write(bytes);
          setdbOutStream.close();
          Log.d("wovo", "done loading words");
          // set executable permissions on our helper
          //process = Runtime.getRuntime().exec("sh");
          //os = new DataOutputStream(process.getOutputStream());
          os.writeBytes("chmod 755 /data/data/com.mypath.myprog/wovo.dat\n");
          os.writeBytes("exit\n");
          os.flush();

        } catch (Exception e) {
            Log.e("wovo", "Exception");
          //Toast.makeText(this, e.getMessage(), Toast.LENGTH_LONG).show();
          return;
        }
        
       // raf = new RandomAccessFile((new File(inputStream)), null);

        /*try {
            String line;
            while((line = reader.readLine()) != null) {
            	//Log.d("wovo", line);
                String[] strings = TextUtils.split(line, "-");
                if (strings.length < 2) continue;
                addWord(strings[0].trim(), strings[1].trim());
            }
        } finally {
            reader.close();
        }
        */
        
        Log.d("dict", "loading done....");
        mLoaded = true;
        //Init_List();
        if(Init_List() == 0)
        {
        	Log.d("wovo", "Init Success...");
        }
        else{
        	Log.d("wovo", "Init Fail...");
        }
    }


   // public List<Word> getMatches(String query) {
   //     List<Word> list = mDict.get(query);
   //     return list == null ? Collections.EMPTY_LIST : list;
   // }
   /* Integer i = 0;
    private void addWord(String word, String definition)
    {
        final Word theWord = new Word(word, definition);
        i++;
        Log.d("wovo", i.toString());
        //final int len = word.length();
        //for (int i = 0; i < len; i++) {
        //    final String prefix = word.substring(0, len - i);
        //    //addMatch(prefix, theWord);
        //}
    }*/

    //private void addMatch(String query, Word word) {
    //    List<Word> matches = mDict.get(query);
    //    if (matches == null) {
    //        matches = new ArrayList<Word>();
    //        mDict.put(query, matches);
    //    }
    //    matches.add(word);
    //}
}

